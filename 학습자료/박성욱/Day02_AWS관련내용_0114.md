## 인프라 관련 공부

https://www.youtube.com/watch?v=HI0fPiZpniY

해당 글은 SSAFY 2학기 공통 프로젝트에 앞서 인프라를 담당하게 되어

원티드 프리온보딩 백엔드 챌린지를 통해 알게 된 AWS 공식 유튜브의 자료를 공유하고, 요약하기 위한 글입니다.

# AWS 기반 서비스 구축 및 확장 단계 요약

## 1. 서비스 초기 단계

- **EC2 인스턴스 생성:** 초기에는 EC2 인스턴스에 웹서버 및 애플리케이션 배포.
- **Elastic IP 할당:** 고정 IP 주소를 통해 안정적인 접근성 제공.
- **리소스 한계:** 초기에는 리소스 확장이 가능하지만, 물리적 한계에 도달할 수 있음.

---

## 2. 기능별 인스턴스 분리

- **웹 서버와 DB 서버 분리:**
  - 웹 서버용 EC2 인스턴스와 DB 서버용 인스턴스를 분리.
  - 데이터베이스는 **Amazon RDS** 사용을 권장 (Amazon Aurora 추천).
- **단일 장애점 문제:** 단일 인스턴스 환경은 장애 시 서비스 연속성에 영향을 미침 → 이중화 필요.

---

## 3. 이중화 작업

- **ELB(Elastic Load Balancer):** 부하를 여러 인스턴스에 분산 처리.
- **컨텐츠 기반 라우팅:**
  - 애플리케이션 로드 밸런서를 사용하여 API 주소별로 트래픽 라우팅.

---

## 4. 사용자 증가에 따른 확장

- **읽기 전용 복제본(Read Replica):**
  - 데이터베이스 읽기 부하를 분산 처리.
  - 각 리드 리플리카에 엔드포인트를 설정하여 데이터 읽기 처리.
- **정적 컨텐츠 최적화:**
  - **Amazon S3**: 정적 컨텐츠(비디오, CSS, 이미지 등)를 저장.
  - **Amazon CloudFront**: 자주 요청되는 컨텐츠를 캐싱하여 빠른 응답 및 부하 경량화.
- **임시 데이터 및 세션 정보 최적화:**
  - **DynamoDB** 또는 **Redis**를 활용하여 세션 관리 최적화.
  - 자주 접근되는 데이터는 **ElastiCache** 같은 인메모리 DB로 관리.

---

## 5. 오토스케일링

- **스케일링 조건 설정:**
  - 특정 메트릭(e.g., CPU 사용률, 네트워크 트래픽)을 기준으로 인스턴스 자동 확장/축소.

---

## 6. 대규모 사용자 (100만 이상)

- **데이터베이스 유형 변경:**
  - 일부 기능의 데이터베이스를 NoSQL, 분산 DB 등으로 변경.
- **확장 전략:**
  - 위 단계를 기반으로 최적화 및 리소스 분산을 통해 500만, 1000만 사용자 대응.

---

## 핵심 AWS 서비스

- **Amazon EC2:** 초기 애플리케이션 및 웹 서버 배포.
- **Elastic IP:** 고정 IP 제공.
- **Amazon RDS:** 데이터베이스 관리 (Aurora 추천).
- **Elastic Load Balancer:** 부하 분산 처리.
- **Amazon S3:** 정적 컨텐츠 저장.
- **Amazon CloudFront:** 캐싱 및 빠른 정적 컨텐츠 전달.
- **DynamoDB/Redis:** 세션 관리 최적화.
- **ElastiCache:** 자주 접근되는 데이터 인메모리 관리.
- **Auto Scaling:** 조건 기반 인스턴스 자동 확장/축소.
