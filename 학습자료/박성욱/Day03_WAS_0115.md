### WEB

톰캣을 WAS로 부를 수 있는가?

\==>

엄밀히 따지자면 톰캣을 was라고 부를 수 없음. 톰캣은 서블릿&JSP 컨테이너다.(서블릿 컨테이너 or 웹 컨테이너)

가장 특징적으로 트랜잭션을 관리하는 기능이 포함되어 있어야 WAS라고 부를 수 있다.

쉽게 말하자면 tomcat은 서블릿 & JSP 컨테이너고,

현업이나 실제로 개발하는 환경에서는 WAS를 사용하게 되고,

오라클의 Weblogic이나 IBM의 WebSphere 와 같은 WAS은 tomcat이 가진 모든 기능들을 포함하고 있다.

메모리를 최적화 하기 위해서  
  
HTTP 요청을 최대한 줄이고 WAS와 직접 연결하는 프로토콜을 사용하는 경우가 종종 있는데

이는 아래의 내용과 같다.

### 1\. **HTTP를 거치지 않는 WAS 통신의 예시**

-   **RMI (Remote Method Invocation) 사용**:
    -   **설명**: RMI는 자바에서 네트워크 상의 원격 객체를 호출하기 위한 프로토콜입니다. Java Swing 클라이언트 애플리케이션이 WAS와 직접 통신하기 위해 RMI를 사용할 수 있습니다.
    -   **예시**: 자바 기반의 금융 애플리케이션이 Java Swing GUI로 작성되었고, WAS와 직접 통신하여 계좌 정보를 조회하거나 트랜잭션을 수행하는 기능을 제공합니다. 이 경우, Swing 애플리케이션이 WAS에 배포된 EJB(Enterprise JavaBeans)와 RMI를 통해 직접 통신할 수 있습니다.
    -   **장점**: RMI는 Java-to-Java 통신을 최적화하고, HTTP의 헤더 오버헤드나 상태 비저장성 문제를 줄일 수 있습니다. 또한, RMI는 자바 객체를 직렬화하여 네트워크로 전송하므로, 복잡한 데이터 구조를 더 효율적으로 처리할 수 있습니다.
-   **소켓 프로그래밍**:
    -   **설명**: Java의 Socket 클래스와 ServerSocket 클래스를 사용하여 클라이언트 애플리케이션이 WAS와 직접 TCP 소켓을 통해 통신할 수 있습니다.
    -   **예시**: Java Swing 기반의 채팅 애플리케이션에서, 클라이언트는 HTTP를 사용하지 않고, TCP 소켓을 사용하여 WAS에 배포된 채팅 서버와 직접 연결합니다. 이 방식으로 각 메시지 요청이 HTTP 요청/응답 사이클을 거치지 않고 바로 전송됩니다.
    -   **장점**: HTTP 프로토콜을 사용하지 않기 때문에, HTTP 헤더를 처리하는 메모리 오버헤드와 요청을 수신하고 응답을 반환하기 위한 복잡한 웹 서버 로직을 줄일 수 있습니다. 소켓을 사용하여 지속적인 연결을 유지할 수 있어, HTTP보다 더 적은 메모리와 CPU 자원을 소비할 수 있습니다.

### 2\. **메모리 효율성의 측면**

HTTP를 사용하지 않는 통신 방식은 다음과 같은 이유로 메모리 효율성이 높아질 수 있습니다:

-   **HTTP 오버헤드 감소**: HTTP 프로토콜은 각 요청과 응답에 헤더 정보를 포함해야 하므로, 비교적 많은 오버헤드를 발생시킵니다. 특히, 요청/응답이 빈번하게 발생하는 애플리케이션의 경우, 이러한 오버헤드가 메모리 사용에 큰 영향을 미칠 수 있습니다. HTTP를 사용하지 않고, 더 간단한 프로토콜(예: RMI, 소켓 프로그래밍)을 사용하면 이러한 오버헤드를 줄일 수 있습니다.
-   **상태 비저장성 문제 해결**: HTTP는 기본적으로 상태 비저장(stateless) 프로토콜입니다. 이를 위해 서버는 각 요청이 독립적이고, 상태 정보를 매번 포함하여야 합니다. 그러나 RMI나 소켓 통신을 사용하면 서버와 클라이언트 간에 지속적인 연결을 유지하면서 상태 정보를 메모리에 저장하고, 이를 통해 상태 비저장성을 극복할 수 있습니다. 이는 서버의 메모리 사용을 더 효율적으로 관리할 수 있게 합니다.
-   **바이너리 프로토콜 사용**: RMI와 같은 프로토콜은 객체를 바이너리 형태로 직렬화하여 네트워크로 전송하므로, 텍스트 기반의 HTTP보다 전송 크기가 작습니다. 이는 네트워크 대역폭을 절약하고, WAS에서 요청을 처리하는 데 필요한 메모리와 CPU 자원을 줄일 수 있습니다.
-   **비동기 통신과 스트리밍**: gRPC와 같은 프레임워크는 비동기 호출과 스트리밍을 지원하여 클라이언트와 서버 간의 리소스 사용을 최적화할 수 있습니다. 예를 들어, 클라이언트가 서버로부터 데이터를 지속적으로 스트리밍 방식으로 받을 때, 전체 데이터를 한 번에 메모리에 로드하지 않고, 작은 청크로 받아 필요한 만큼만 메모리를 사용합니다.

### 3\. **메모리 효율성의 구체적 장점**

-   **네트워크 트래픽 감소**: HTTP 헤더를 줄이고, 직렬화된 바이너리 데이터 전송을 통해 전송 데이터의 크기를 줄일 수 있습니다.
-   **메모리 사용 감소**: HTTP 프로토콜을 통해 전송되는 문자열 데이터 대신, 더 압축된 바이너리 형식을 사용함으로써 메모리 사용량을 줄일 수 있습니다.
-   **CPU 사용량 감소**: HTTP 요청을 처리하기 위한 복잡한 파싱 과정이 줄어들어 CPU 리소스도 절약됩니다.
-   **지연 시간 감소**: RMI나 소켓 통신을 통한 직접적인 호출은 HTTP 요청/응답 사이클보다 지연 시간이 낮습니다.

### 결론

HTTP를 사용하지 않고 WAS와 직접 통신하는 방법(RMI, 소켓 프로그래밍, gRPC 등)은 메모리 사용을 최적화하고, 네트워크 및 CPU 자원을 효율적으로 활용할 수 있는 방식입니다. 애플리케이션의 특성과 요구사항에 따라, 이러한 방식이 HTTP 기반의 통신보다 더 적합하고 효율적일 수 있습니다. 다만, 이러한 방식은 HTTP 기반의 표준화된 프로토콜보다 구현과 유지 관리가 더 복잡할 수 있으므로, 이를 고려한 선택이 필요합니다.